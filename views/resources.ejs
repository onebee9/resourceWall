<!DOCTYPE html>
<html lang="en">

<head>
  <title>Home Page</title>

  <!-- External Styles -->

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />

  <!--  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    integrity="sha512-9usAa10IRO0HhonpyAIVpjrylPvoDwiPUiKdWk5t3PyolY1cOd4DSE0Ga+ri4AuTroPR5aQvXU9xC6qOPnzFeg=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Serif:ital,wght@0,200;0,400;1,300&display=swap"
    rel="stylesheet" />

  <!--  -->

  <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" type="text/css" />
  <link rel="stylesheet" href="/vendor/border-box.css" type="text/css" />

  <!-- App Style -->

  <link rel="stylesheet" href="/styles/main.css" type="text/css" />
  <link rel="stylesheet" href="/styles/layout.css" type="text/css" />

  <script type="text/javascript" src="/vendor/jquery-3.0.0.js"></script>
  <script type="text/javascript" src="/scripts/app.js"></script>
</head>

<body>
  <section name="search">
    <form class="form-inline" method="post" action="/resources/searchResults">
      <select class="form-select" name="category">
        <option value="boxing">Boxing</option>
        <option value="news">News</option>
        <option value="creative">Creative</option>
        <option value="fashion">fashion</option>
        <option value="sports">Sports</option>
      </select><br>
      <input class="form-control me-2" type="text" name="title" placeholder="title" aria-label="Search" />
      <button type="submit" class="btn btn-outline-secondary"> Search</button>
    </form>
  </section>
  <main>
    <% resources.forEach(resource=> {%>
      <section class="resources" style="display: flex; flex-direction: row;">
        <div class="head">
          <div class="title_and_catagory">
            <p>
              <%= resource.title%>
            </p>
            <p>
              <%= resource.category%>
            </p>
          </div>
          <div class="creator">
            <p>Resource By : <%= resource.name%>
            </p>
            <div class="user">
              <i class="fa-solid fa-circle-user"></i>
            </div>
          </div>
        </div>
        <div class="description">
          <div class="description-text">
            <p>
              <%= resource.description%>
            </p>
          </div>
          <div class="image">
            <i class="fa-regular fa-image"></i>
          </div>
        </div>
        <div class="rating">
          <p>*****</p>
          <div class="likes">
            <i class="fa-regular fa-heart"></i>
            <p>4</p>
          </div>
        </div>

        <div class="comment-layout">
          <div class="new-comment">

            <div class="form-error"></div>

            <form action="#" method="post" class="get-comment" data-resource-id="<%= resource.id %>">
              <textarea name="comment" class="comment-text" placeholder="What are you thinking about?"
                data-maxlength="140"></textarea>

              <div class="button-and-counter">
                <button id="comment" type="submit">Comment</button>
                <output name="counter" class="counter" for="comment-text">140</output>
              </div>
            </form>
          </div>

          <!--//identifying the dynamically created elements, using the resource id. ensures the right comments are appended to the right posts.-->
          <div class="comment-listing" id="comment-listing-<%= resource.id %>" data-resource-id="<%= resource.id %>"></div>
        </div>
      </section>

      <!--  <div class="comments">

        <div class="coment-bottom bg-white p-2 px-4">

          <div class="create-comment">
            <form class="form-inline" method="post" action="/resources/comments">
              <input type="hidden" name="postID" value="<%= resource.id %>" />
              <input type="text" name ="comment" class="form-control mr-3" placeholder="Add comment">
              <button class="btn btn-primary" type="submit">Comment</button>
            </form>
          </div>

          <div class="commented-section mt-2">
            <div class="show-comment">

              <div class="d-flex flex-row align-items-center commented-user">
                <h5 class="mr-2">username </h5>
                <span class="mb-1 ml-2">4 hours ago</span>
              </div>

              <div class="comment-text-sm">
                <span>
                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do
                  eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud
                  exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                </span>
              </div>
            </div>

          </div>
        </div>
      </div>-->
      <% });%>
  </main>
</body>

</html>